<!DOCTYPE html>
<!-- 两栏模版 -->
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.
">

    <title>CSS布局核心概念：盒模型</title>
    <link rel="canonical" href="http://jerry9926.github.io/css/2016/02/05/CSS%E5%B8%83%E5%B1%80%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5%EF%BC%9A%E7%9B%92%E6%A8%A1%E5%9E%8B.html">

    <link href="/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link rel="stylesheet" href="/css/main.css">
	<script src="/js/jquery-1.11.1.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
	<script src="/js/particles.min.js"></script>    
</head>


  <body>
    <div class="container my-container">
      <div class="side-bar">
        <!--Sidebar content-->
        <div class="head-wrapper">
        <img src="/assets/images/ui/icon.jpg" alt="head-icon">
        </div>
        <h1 class="title">库乐君的笔记本</h1>
        <h2 class="decs">所谓文艺，不过是多走一些路，多看一些风景罢了</h2>
        <ul class="nav">
        <li><a href="/">首页</a></li>
            
        <li><a href="/ios/" title="查看更多文章">ios 6</a>
        </li>
        
        <li><a href="/工具/" title="查看更多文章">工具 4</a>
        </li>
        
        <li><a href="/css/" title="查看更多文章">css 2</a>
        </li>
        
        <li><a href="/javascript/" title="查看更多文章">javascript 10</a>
        </li>
        
        </ul>
      </div>
      <div class="content-contain">
        <!--Body content-->
        <!-- 文章模版 -->
<div class="post">

  <header class="post-header clearfix">
    <h1 class="post-title">CSS布局核心概念：盒模型</h1>
    <span class="post-meta"> 分类：css </span>
    <span class="post-meta"> 标签：</span>
    <span class="post-meta">发布时间：2016-02-05</span>
  </header>

  <article class="post-content">
    <h1>盒模型</h1>

<p>页面上的每一个元素被看做一个矩形框，这个框由<code>内容</code>、<code>内边距</code>、<code>边框</code>、<code>外边距</code>组成。</p>

<!-- more -->


<h3>内边距</h3>

<p>如果元素添加背景，背景显示在内容和内边距上面。</p>

<h3>外边距</h3>

<p>外边距是透明的，用来控制元素之间的间隔。外边距可以是负值。</p>

<h3>外边距重叠( Collapsing margins )</h3>

<p>解释：指的是<code>毗邻</code>的两个或多个外边距 (margin) 会合并成一个外边距。
其中所说的 margin 毗邻，可以归结为以下两点：
-这两个或多个外边距没有被<code>非空内容</code>、<code>padding</code>、<code>border</code> 或 <code>clear</code> 分隔开。
-这些 margin 都处于普通流中。<code>行内框(inline-block)</code>、<code>浮动框(float)</code>、<code>绝对定位框(absolute/fixed)</code>之间的外边距不会重叠。</p>

<h4>垂直方向</h4>

<p>是指具体的方位，只有<code>垂直方向</code>的 margin 才会重叠，也就是说，水平方向的 margin 不会发生重叠象。</p>

<p><strong>1、当两个或者更多的垂直外边距相遇时，它们发生重叠，这时外边距的高度等于两个叠加的外边距之中高度较大者的高度。</strong></p>

<p>如图：</p>

<p><img src="/assets/images/160205/css_core_concept_box_model_1.png" alt="示例图片" width="60%"></p>

<p><strong>2、当一个元素包含在另一个元素中时，如果没有内边距和边框将两者的外边距隔开，它们的上外边距/下外边距会发生叠加。</strong></p>

<p>如图：<br/>
<img src="/assets/images/160205/css_core_concept_box_model_2.png" alt="示例图片" width="60%"></p>

<p><strong>3、如果有一个元素，没有内容、内边距、边框，有上下边距，这是上外边距和下外边距碰到一起，也会发生重叠。</strong></p>

<p>如图：</p>

<p><img src="/assets/images/160205/css_core_concept_box_model_3.png" alt="示例图片" width="60%"></p>

<h4>折叠后 margin 的计算</h4>

<p><strong>1、 参与折叠的 margin 都是正值：<code>取其中 margin 较大的值为最终 margin 值</code>。</strong></p>

<p>例子：</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">&quot;height:50px; margin-bottom:50px; width:50px; background-color: red;&quot;</span><span class="nt">&gt;</span>A<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">&quot;height:50px; margin-top:100px; width:50px; background-color: green;&quot;</span><span class="nt">&gt;</span>B<span class="nt">&lt;/div&gt;</span></code></pre></div>


<p><strong>2、参与折叠的 margin 都是负值：<code>取的是其中绝对值较大的，然后，从 0 位置，负向位移</code>。</strong></p>

<p>例子：</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">&quot;height:100px; margin-bottom:-75px; width:100px; background-color: red;&quot;</span><span class="nt">&gt;</span>A<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">&quot;height:100px; margin-top:-50px; margin-left:50px; width:100px; background-color: green;&quot;</span><span class="nt">&gt;</span>B<span class="nt">&lt;/div&gt;</span></code></pre></div>


<p>如图：</p>

<p><img src="/assets/images/160205/css_core_concept_box_model_4.png" alt="示例图片" width="60%"></p>

<p><strong>3、参与折叠的 margin 中有正值，有负值：<code>先取出负 margin 中绝对值中最大的，然后，和正 margin 值中最大的 margin 相加</code>。</strong></p>

<p>例子：</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">&quot;height:50px; margin-bottom:-50px; width:50px; background-color: red;&quot;</span><span class="nt">&gt;</span>A<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">&quot;height:50px; margin-top:100px; width:50px; background-color: green;&quot;</span><span class="nt">&gt;</span>B<span class="nt">&lt;/div&gt;</span></code></pre></div>


<p>如图：</p>

<p><img src="/assets/images/160205/css_core_concept_box_model_5.png" alt="示例图片" width="60%"></p>

<p>上面的例子最终的 margin 应该是 <code>100 + (-50) = 50px</code>。</p>

<p><strong>4、相邻的 margin 要一起参与计算，不得分步计算</strong></p>

<p>要注意，相邻的元素不一定非要是兄弟节点，父子节点也可以，即使不是兄弟父子节点也可以相邻。
而且，<code>在计算时，相邻的 margin 要一起参与计算，不得分步计算</code>。</p>

<p>一个复杂的实例：</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">&quot;margin:50px 0; background-color:green; width:50px;&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">&quot;margin:-60px 0;&quot;</span><span class="nt">&gt;</span>
           <span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">&quot;margin:150px 0;&quot;</span><span class="nt">&gt;</span>A<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">&quot;margin:-100px 0; background-color:green; width:50px;&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">&quot;margin:-120px 0;&quot;</span><span class="nt">&gt;</span>
           <span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">&quot;margin:200px 0;&quot;</span><span class="nt">&gt;</span>B<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span></code></pre></div>


<p>错误的计算方式：算 A 和 B 之间的 margin，分别算 A 和其父元素的折叠，然后与其父元素的父元素的折叠，这个值算出来之后，应该是 90px。依此法算出 B 的为 80px；然后，A和B折叠，margin 为 90px。</p>

<p><strong>请注意，多个 margin 相邻折叠成一个 margin，所以计算的时候，应该取所有相关的值一起计算，而不能分开分步来算。</strong></p>

<p>以上例子中，A 和 B 之间的 margin 折叠产生的 margin，是6个相邻 margin 折叠的结果。将其 margin 值分为两组：</p>

<p>正值：50px，150px，200px</p>

<p>负值：-60px，-100px，-120px</p>

<p>根据有正有负时的计算规则，正值的最大值为 200px，负值中绝对值最大的是 -120px，所以，最终折叠后的 margin 应该是 <code>200 + (-120) = 80px</code>。</p>

<h4>创建了块级格式化上下文(block format context)的元素，不和它的子元素发生 margin 折叠</h4>

<p>以 “overflow : hidden” 的元素为例：</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">&quot;margin-top:50px; width:100px; height:100px; background-color:green; overflow:hidden;&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">&quot;margin-top:50px; background-color:gold;&quot;</span><span class="nt">&gt;</span>B<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span></code></pre></div>


<h3>边框</h3>

<p><strong>CSS2.1有outline属性性，与border不同，轮廓绘制在元素框之上，不影响定位。</strong></p>

<p><strong>CSS3的box-sizing属性可以定义要使用哪一种盒模型。</strong></p>

<h3>来源：</h3>

<p>《精通CSS》</p>

<p><a href="http://www.w3help.org/zh-cn/kb/006/" target="_blank">KB006: CSS 框模型( Box module )</a></p>

<h3>延伸阅读：</h3>

<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/CSS/Block_formatting_context" target="_blank">块级格式化上下文</a></p>

<p><a href="http://kayosite.com/block-formatting-contexts-in-detail.html" target="_blank">详说 Block Formatting Contexts (块级格式化上下文)</a></p>

  </article>

  <div class="article-guide clearfix">
    
      <span class="article-pre">« <a href="/ios/2015/08/28/%E5%85%B3%E4%BA%8E%E7%BA%A6%E6%9D%9FfirstItem%E5%92%8CsecondItem.html" rel="prev">关于约束firstItem和secondItem</a></span>
    
    
      <span class="article-next"><a href="/javascript/2016/02/17/%E7%94%A8javascript%E8%8E%B7%E5%8F%96viewport(window)%E5%AE%BD%E9%AB%98.html" rel="next">用javacript获取viewport(window)宽高</a> »</span>
    
  </div>
</div>


        <!--Footer content-->
        <footer class="site-footer">

  <div class="wrapper">
    <p class="footer-heading">Copyright © 2017 - <a href="/">库乐君的笔记本</a> - Base on <a href="http://github.com">Github</a> & <a href="http://jekyllrb.com">Jekyll</a></p>
  </div>
  <script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "https://hm.baidu.com/hm.js?075085658c25fed7cc4d8789f23c6519";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
</script>
</footer>

      </div>
    </div>

    <div id="particles-js"></div>

  </body>
  <script>
  particlesJS('particles-js',
  
  {
      "particles": {
      "number": {
          "value": 50,
          "density": {
          "enable": true,
          "value_area": 550
          }
      },
      "color": {
          "value": "#3385ff"
      },
      "shape": {
          "type": "circle",
          "stroke": {
          "width": 0,
          "color": "#000000"
          },
          "polygon": {
          "nb_sides": 5
          },
          "image": {
          "src": "img/github.svg",
          "width": 100,
          "height": 100
          }
      },
      "opacity": {
          "value": 0.25,
          "random": false,
          "anim": {
          "enable": false,
          "speed": 1,
          "opacity_min": 0.1,
          "sync": false
          }
      },
      "size": {
          "value": 5,
          "random": true,
          "anim": {
          "enable": false,
          "speed": 40,
          "size_min": 0.1,
          "sync": false
          }
      },
      "line_linked": {
          "enable": true,
          "distance": 150,
          "color": "#3385ff",
          "opacity": 0.4,
          "width": 1
      },
      "move": {
          "enable": true,
          "speed": 3,
          "direction": "none",
          "random": false,
          "straight": false,
          "out_mode": "out",
          "attract": {
          "enable": false,
          "rotateX": 600,
          "rotateY": 1200
          }
      }
      },
      "interactivity": {
      "detect_on": "canvas",
      "events": {
          "onhover": {
          "enable": true,
          "mode": "grab"
          },
          "onclick": {
          "enable": true,
          "mode": "push"
          },
          "resize": true
      },
      "modes": {
          "grab": {
          "distance": 100,
          "line_linked": {
              "opacity": 1
          }
          },
          "bubble": {
          "distance": 100,
          "size": 40,
          "duration": 2,
          "opacity": 8,
          "speed": 3
          },
          "repulse": {
          "distance": 200
          },
          "push": {
          "particles_nb": 4
          },
          "remove": {
          "particles_nb": 2
          }
      }
      },
      "retina_detect": true,
      "config_demo": {
      "hide_card": false,
      "background_color": "#b61924",
      "background_image": "",
      "background_position": "50% 50%",
      "background_repeat": "no-repeat",
      "background_size": "cover"
      }
  }

  ); 
  </script>
</html>
