<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.
">

    <title>Babel小记</title>
    <link rel="canonical" href="http://jerry9926.github.io/javascript/2017/09/14/Babel%E5%B0%8F%E8%AE%B0.html">

    <link href="/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link rel="stylesheet" href="/css/main.css">
    <link href="/css/index.css" rel="stylesheet">
	<script src="/js/jquery-1.11.1.min.js"></script>
	<script src="/js/bootstrap.min.js"></script>
</head>


  <body>

    <div class="container">
      <div class="row">
        <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
          <div class="side-bar">
            <!--Sidebar content-->
            <div class="head-wrapper">
              <img src="/assets/images/ui/icon.jpg" alt="head-icon">
            </div>
            <h1 class="title">库乐君的笔记本</h1>
            <h2 class="decs">所谓文艺，不过是多走一些路，多看一些风景罢了</h2>
            <ul class="nav">
              <li><a href="/">首页</a></li>
                
              <li><a href="/ios/" title="查看更多文章">ios 6</a>
              </li>
              
              <li><a href="/工具/" title="查看更多文章">工具 3</a>
              </li>
              
              <li><a href="/css/" title="查看更多文章">css 2</a>
              </li>
              
              <li><a href="/javascript/" title="查看更多文章">javascript 7</a>
              </li>
              
            </ul>
          </div>
        </div>
        <div class="content-contain col-xs-12 col-sm-9 col-md-9 col-lg-9">
          <!--Body content-->
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">Babel小记</h1>
    <p class="post-meta">2017-09-14</p>
  </header>

  <article class="post-content">
    <p>简单使用Babel转换ES6语法。</p>

<!-- more -->


<p><br>
<br></p>

<h2>前言</h2>

<p>Babel 是一个 JavaScript 编译器。这句话是Babel官网的自我介绍，就是说Babel可以编译javascript，包括ECMA2015或以上新特性的js和一些javascript扩展语言，如JSX。</p>

<p>所以说在使用Babel的时候，我们要告诉Babel我们希望编译的是哪种js（js的版本），所以需要进行配置。然后Babel知道了是哪种js之后，还需要为Babel装上编译相应js的模块，Babel中称为插件。而在本例中，我们要编译的是ES6。那编译ES6需要如何配置Babel和使用哪个插件呢，在<a href="https://babeljs.io/docs/plugins/preset-es2015/">官网中</a>有说明。</p>

<p>Babel可以配合多种工具使用，本文使用的是结合gulp的方式。查看<a href="https://babeljs.io/docs/setup">更多方式</a>。</p>

<blockquote><p>注：ES6是泛指5.1版以后的js的下一代标准，正式的说法是ES2015。查看<a href="http://es6.ruanyifeng.com/#docs/intro">相关背景</a>。</p></blockquote>

<p>使用gulp工具</p>

<p><br></p>

<h3>1、安装gulp、babel</h3>

<p>npm方式</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">npm</span> <span class="nx">install</span> <span class="nx">gulp</span> <span class="nx">babel</span> <span class="o">--</span><span class="nx">save</span><span class="o">-</span><span class="nx">dev</span></code></pre></div>


<p>yarn方式</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">yarn</span> <span class="nx">add</span> <span class="nx">gulp</span> <span class="nx">babel</span>  <span class="o">--</span><span class="nx">dev</span></code></pre></div>


<p><br></p>

<h3>2、编写<code>gulpfile.js</code></h3>

<p>gulp.src表示原文件的路径，babel()就是调用babel编译的方法，dest表示输出的路径。</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">babel</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-babel&#39;</span><span class="p">);</span>

<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;src/*.js&#39;</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">babel</span><span class="p">())</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;dist&#39;</span><span class="p">));</span>
<span class="p">});</span></code></pre></div>


<p><br></p>

<h3>3、配置babel</h3>

<p>方式一：创建<code>.babelrc</code>文件，添加以下内容</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">{</span>
   <span class="s2">&quot;presets&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;es2015&#39;</span><span class="p">]</span>
 <span class="p">}</span></code></pre></div>


<p>方式二：在<code>pacjage.json</code>配置，在其中添加以下内容</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="s2">&quot;babel&quot;</span><span class="o">:</span> <span class="p">{</span>
     <span class="s2">&quot;presets&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;es2015&quot;</span><span class="p">]</span>
  <span class="p">}</span></code></pre></div>


<p><br></p>

<h3>4、安装babel插件</h3>

<p>npm方式</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">npm</span> <span class="nx">install</span> <span class="o">--</span><span class="nx">save</span> <span class="nx">babel</span><span class="o">-</span><span class="nx">preset</span><span class="o">-</span><span class="nx">es2015</span></code></pre></div>


<p>yarn方式</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">yarn</span> <span class="nx">add</span> <span class="nx">babel</span><span class="o">-</span><span class="nx">preset</span><span class="o">-</span><span class="nx">es2015</span>  <span class="o">--</span><span class="nx">dev</span></code></pre></div>


<p><br></p>

<h3>5、执行 gulp</h3>

<p>参考资料：</p>

<p><a href="http://babeljs.cn">http://babeljs.cn</a></p>

<p><a href="http://es6.ruanyifeng.com/#docs/intro">http://es6.ruanyifeng.com/#docs/intro</a></p>

  </article>

</div>


          <footer class="site-footer">

  <div class="wrapper">
    <p class="footer-heading">Copyright © 2017 - <a href="/">库乐君的笔记本</a> - Base on <a href="http://github.com">Github</a> & <a href="http://jekyllrb.com">Jekyll</a></p>
  </div>
  <script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "https://hm.baidu.com/hm.js?075085658c25fed7cc4d8789f23c6519";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
</script>
</footer>

        </div>
      </div>
    </div>

  </body>

</html>
